---
import Layout from "../../layouts/Neovim.astro";
import { basics, work, education, skills } from "@cv";

const { name, summary } = basics;
const { city, region } = basics.location;
---

<Layout title={`About - ${name}`}>
  <div class="flex flex-col gap-8 text-skin-base">
    {/* Header Section */}
    <section class="border-b border-skin-muted/50 pb-6">
      <h1 class="text-2xl text-skin-accent mb-2"># About Me</h1>
      <p class="text-skin-muted leading-relaxed max-w-3xl">
        {summary}
      </p>
      <div class="mt-4 text-sm text-skin-muted font-mono">
        <span class="text-skin-accent">Location:</span>
        {city}, {region}
      </div>
    </section>

    {/* Experience Section */}
    <section>
      <h2 class="text-xl text-skin-accent mb-4">## Experience</h2>
      <div class="flex flex-col gap-6">
        {
          work.map(
            ({ name, position, startDate, endDate, summary, highlights }) => (
              <div class="pl-4 border-l-2 border-skin-muted/30">
                <div class="flex justify-between items-baseline mb-1">
                  <h3 class="text-lg">{name}</h3>
                  <span class="text-sm text-skin-muted font-mono">
                    {new Date(startDate).getFullYear()} -{" "}
                    {endDate ? new Date(endDate).getFullYear() : "Present"}
                  </span>
                </div>
                <div class="text-skin-accent mb-2 font-mono text-sm">
                  {position}
                </div>
                <p class="text-sm text-skin-muted mb-2">{summary}</p>
                <ul class="list-disc list-inside text-sm text-skin-muted">
                  {highlights.map((highlight) => (
                    <li>{highlight}</li>
                  ))}
                </ul>
              </div>
            ),
          )
        }
      </div>
    </section>

    {/* Education Section */}
    <section>
      <h2 class="text-xl text-skin-accent mb-4">## Education</h2>
      <div class="grid gap-4">
        {
          education.map(({ institution, area, startDate, endDate }) => (
            <div class="bg-skin-button-muted/20 p-4 rounded border border-skin-muted/20">
              <div class="flex justify-between">
                <span>{institution}</span>
                <span class="text-sm font-mono text-skin-muted">
                  {new Date(startDate).getFullYear()} -{" "}
                  {new Date(endDate).getFullYear()}
                </span>
              </div>
              <div class="text-sm text-skin-accent mt-1">{area}</div>
            </div>
          ))
        }
      </div>
    </section>

    {/* Skills Section */}
    <section>
      <h2 class="text-xl text-skin-accent mb-4">## Skills</h2>
      <div class="flex flex-wrap gap-6">
        {
          skills.map(({ name, keywords }) => (
            <div>
              <h3 class="text-sm text-skin-muted mb-2 font-mono">[{name}]</h3>
              <div class="flex flex-wrap gap-2">
                {keywords.map((key) => (
                  <span class="text-xs px-2 py-1 bg-skin-button-accent/10 text-skin-accent rounded border border-skin-button-accent/20">
                    {key}
                  </span>
                ))}
              </div>
            </div>
          ))
        }
      </div>
    </section>
  </div>
</Layout>
