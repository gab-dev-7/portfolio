---
import Section from "../Section.astro";
import { education } from "@cv";
---

<Section className={Astro.props.className}>
  <ul class="flex flex-col gap-8">
    {
      education.map(({ institution, startDate, endDate, area, url, courses }) => {
        const startYear = new Date(startDate).getFullYear();
        const endYear = endDate != null ? new Date(endDate).getFullYear() : "Present";

        return (
          <li class="relative">
            <div class="flex flex-col gap-2">
              <header class="flex flex-col sm:flex-row justify-between items-baseline w-full">
                <h3 class="text-lg font-mono font-bold text-skin-base mb-1 sm:mb-0">
                  <a href={url} target="_blank" class="hover:text-skin-accent transition-colors">
                    {institution}
                  </a>
                  <span class="text-sm text-skin-muted font-normal ml-2">{area}</span>
                </h3>
                <time class="text-sm font-mono text-skin-muted text-right">
                  {startYear} - {endYear}
                </time>
              </header>
              <h4 class="text-md text-skin-muted font-mono">{area}</h4>
              {courses && (
                 <div class="flex flex-wrap gap-2 mt-2">
                    {courses.map(course => (
                        <span class="text-xs px-2 py-1 rounded border border-skin-muted/30 text-skin-muted font-mono bg-skin-button-muted/20">
                            {course}
                        </span>
                    ))}
                 </div>
              )}
            </div>
          </li>
        );
      })
    }
  </ul>
</Section>
