@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* --- DARK MODE PALETTE (RGB Channels) --- */
    --bg-color-rgb: 5, 10, 20;       /* #050a14 */
    --card-bg-rgb: 15, 23, 36;       /* #0f1724 */
    --text-main-rgb: 224, 230, 237;  /* #e0e6ed */
    --text-muted-rgb: 148, 163, 184; /* #94a3b8 */
    --accent-pink-rgb: 255, 0, 85;   /* #ff0055 */
    --accent-cyan-rgb: 0, 240, 255;  /* #00f0ff */
    --button-hover-rgb: 212, 0, 71;  /* #d40047 */
    --inverted-rgb: 255, 255, 255;   /* #ffffff */
    --border-rgb: 30, 41, 59;        /* #1e293b */

    /* --- Base Variables (Usable as standard CSS colors) --- */
    --bg-color: rgb(var(--bg-color-rgb));
    --card-bg: rgb(var(--card-bg-rgb));
    --text-main: rgb(var(--text-main-rgb));
    --text-muted: rgb(var(--text-muted-rgb));
    --accent-pink: rgb(var(--accent-pink-rgb));
    --accent-cyan: rgb(var(--accent-cyan-rgb));
    --color-border: rgb(var(--border-rgb));
    
    /* These are used only in Tailwind or as channels */
    --color-button-accent-hover: var(--button-hover-rgb);
    --color-text-inverted: var(--inverted-rgb);

    /* --- Tailwind Mapping Variables (Must be RGB Channels) --- */
    --color-fill: var(--bg-color-rgb);
    --color-card: var(--card-bg-rgb);
    --color-button-muted: var(--card-bg-rgb);
    --color-text-base: var(--text-main-rgb);
    --color-text-muted: var(--text-muted-rgb);
    --color-accent: var(--accent-cyan-rgb);
    --color: var(--accent-cyan-rgb);
    --color-button-accent: var(--accent-pink-rgb);
    
    /* Missing variable required by Tailwind config */
    --muted: var(--text-muted-rgb);
  }

  html {
    background-color: rgb(var(--color-fill));
    color: rgb(var(--color-text-base));
    cursor: auto !important;
  }
}

/* Scrollbar Styling (Updated to Cyan/Pink) */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: var(--bg-color);
}
::-webkit-scrollbar-thumb {
  background: var(--accent-cyan);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--accent-pink);
}

/* --- CURSOR & ELEMENT RESET --- */
* {
  cursor: auto !important;
}

#cursor-dot,
.cursor-dot,
.cursor-inner,
.cursor-outer {
  display: none !important;
}

/* Scroll Animations */
section {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.5s ease-out, transform 0.5s ease-out;
}

section.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Blockquote Styling */
blockquote {
  border-left: 4px solid var(--accent-pink);
  padding-left: 1rem;
  margin-left: 1rem;
  font-style: italic;
  color: var(--text-muted);
}

/* KaTeX MathML Fix */
.katex-mathml {
  display: none !important;
}

/* Spoiler / Blurred Text Effect for Blog */
.spoiler {
  background-color: #333;
  color: transparent;
  text-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
  border-radius: 4px;
  padding: 0 4px;
  user-select: none; /* Prevents cheating by highlighting */
  cursor: pointer;
  transition: all 0.3s ease;
}

.spoiler:hover {
  color: #fff;
  text-shadow: none;
  background-color: transparent;
  user-select: text;
}
